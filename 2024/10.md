# 2024/10 学習記録

**基本スケジュール**
*  オリジナルアプリ開発のベース部分の開発を進める
*  「基本情報技術者」「プリンシプルオブプログラミング」書籍を読む
*   「JavaScript データ・アルゴリズム課題」を復習として最低3問解く

**今月目標**

* オリジナルアプリ開発のベース部分をできるだけ進める
* 過去の課題の復習を毎日取り組む
* 新しい仕事に慣れる

***

## 2024/10/04
- オリジナルアプリ制作
     -  画像の投稿の検証
     -  エラーの原因を探るため設定を見直し中
- 基本情報技術者の書籍で「ネットワーク」「セキュリティ」（復習）「システム開発」についてざーっと読む
- プリンシプルオブプログラミングのアーキテクチャ非機能要件③「効率性」を読む
     -  時間効率性
         - スループット
           - 一定の時間内に何件の処理を終えることができるか
         - レスポンスタイム
           - ユーザーの入力操作から応答までにかかる時間
         - ターンアラウンドタイム
           - ユーザーが作業開始から求められた情報の出力を終了するまでの時間
     -  資源効率性
         - CPUの使用時間
         - メモリ使用量
         - ストレージ使用量
         - ネットワーク伝送量
         - などで計測
     -  限られたリソースを積極的に活用
         - アーキテクチャ設計の段階でモジュールの責務分散・モジュール間の結合を適切に行う
         - 間接化
             - モジュール間の直接の結合を避けるため「媒介モジュール」をはさむ
             - 基礎的で適用範囲の広いモジュール設計方法
### メモ
-  旅行中はプログラミング学習できなかったけど今日からまたがんばろう
-  s3の明細が届いてハラハラしたけど高額じゃなくてよかった・・早くCDN導入しないと

***

## 2024/10/05
- オリジナルアプリ制作
     -  画像の投稿の検証
     -  バケット名とカスタムドメインを合わせるために新しくバケットを作成
     -  CloudflareのSSLモードをフルに変更
     -  「保護されていない通信」として画像は見れる
         - SSL証明書を発行する必要がある？
     -  と思ったら反映までに時間がかかっていたのか、急に画像が見れた🙌
     -  意図している設計（画像のダウンロード時にCloudflareを通して取得）になっているのか確認が必要
### メモ
-  今日は子供と友達と一緒に劇を観に行き、とても充実した時間を過ごしました。

***

## 2024/10/06
- オリジナルアプリ制作
     -  画像の投稿の検証
     -  CDNが有効かどうか検証のため、投稿一覧ページを作成
          -  「Cloudflare を介したリクエスト」が今の所ゼロになっていてうまくいっていないかもしれない
          -  ネットワークのヘッダーで確認する方法を試す
               -  Cloudflareのキャッシュステータスが存在していなかった
          -  cURLを使用して確認する方法も試す
               -  SSL証明書の検証に失敗した様子・・
          -  設定の見直しが必要
### メモ
-  今日は出来たてのわらび餅を食べた

***

## 2024/10/07
- オリジナルアプリ制作
     -  画像の投稿の検証
     -  CDNが有効でない問題の検証
          -  Cloudflareのドキュメントの見直し
          -  ページ ルールを設定してみる
          -  cf-cache-statusが出た！けど「MISS」に（キャッシュがまだ作成されていなかったり設定にミスがあるらしい）
          -  反映に時間がかかるらしいから少し様子を見る
- 「JavaScript データ・アルゴリズム課題」の復習
     -  003_practice/002_medium.js　途中まで（回文の確認）
          -  次の問題の、素数判定のアルゴリズムについて考える
- 基本情報技術者の書籍で「ユーザーインターフェイス」について読む
     -  システムと人間の接点にあたる部分
     -  ユーザー側の視点に立って設計を行うことが重要
     -  CUI
          -  ターミナル（文字ベースの）操作方式
     -  GUI
          -  グラフィカルな操作方式
- MVC, REST, HTTP, ORM Webフレームワークについての動画を見る
     -  後半部分を見直し
### メモ
-  朝一でアルゴリズム課題が解けると清々しく1日が始められる
-  今日は初めて一人で本番リリースを対応

***

## 2024/10/08
- オリジナルアプリ制作
     -  画像の投稿の検証
     -  CDNが有効でない問題の検証
          -  夜コンソールをチェックしたら「HIT」になっていた！🙌
          -  Cloudflare上でも「保存されたバイト数」が4MBになっていて、オリジンサーバー側のデータ転送を省略できているということらしい
          -  後はレビューをもらって問題なければようやくアプリの開発に進める
- 「JavaScript データ・アルゴリズム課題」の復習
     -  003_practice/002_medium.js　途中まで（素数かどうか）
          -  if文を混ぜようとしたけどうまくいかなかった
          -  解読しやすくかけているのかあまり自信がない
- 基本情報技術者の書籍で「モジュールの分割」について読む
     -  プログラムの構造化設計
          -  各プログラムをモジュールの単位に分割・階層化させること
     -  2つの技法のグループがある
          -  データの流れに着目した技法
               -  STS分割法
               -  トランザクション分割法
               -  共通機能分割法
          -  データの構造に着目した技法
               -  ジャクソン法
               -  ワーニエ法
     -  モジュールの独立性を図る尺度
          -  モジュール強度
               -  どれだけ機能的に特化できているか
          -  モジュール結合度
               -  他のモジュールとどのように結合するかを示す尺度
- プリンシプルオブプログラミングのアーキテクチャ非機能要件④「信頼性」を読む
     -  機能を維持する能力
          -  例外的、予測しない方法や不正な方法でソフトウェアが使用された場面でも機能を維持する能力
     -  フォールトトレランス
          - 障害が発生した時に正しい振る舞いを保証し、内部で修復を行う
          - フェールソフト
               - 提供する機能を絞り込み、大事な機能のみを提供し、処理継続を優先させる
     -  ロバストネス
          - 不正な使用方法や入力ミスからソフトウェアを保護する
          - 様々な使用方法に対してシステムとして定義された状態に移行する
          - フェールセーフ
               - 障害時にその部分を切り離す設計
          - フールプール
               - そもそも障害を防ぐため、ユーザーが誤った操作を行っても安全に稼働させる
### メモ
-  最適かどうかは別としてCDNを利用して画像のダウンロードができて嬉しい
-  いろいろ試しすぎて曖昧だけど
-  大きな理由はバケット名とカスタムドメインが合っていなかったのと、SSLモードをフルにしたことで通った気がする

***

## 2024/10/09
- オリジナルアプリ制作
     -  画像の投稿の検証
     -  金曜にレビューをもらう予定
- vueの算出プロパティについて調べる
     -  リアクティブなデータを含むロジックに使用
     -  computed
          -  thisはコンポーネントのインスタンスを指す
     -  メソッドとの違い
          -  「リアクティブな依存関係に基づきキャッシュ」される
          -  依存関係が更新された時だけ再評価される
     -  デフォルトではgetter関数のみ
          -  新しい値を代入しようとすると警告が出る
### メモ
-  業務で、対応アプリの全体像の理解に時間がかかる
-  小さく分割して考えよう

***

## 2024/10/10
- オリジナルアプリ制作
     -  画像の投稿の検証
     -  金曜にレビューをもらう予定
          -  明日の相談内容をまとめる
- 「JavaScript データ・アルゴリズム課題」の復習
     -  003_practice/002_medium.js　完了
          -  次からは苦手なフィボナッチ・再帰関数
- 基本情報技術者の書籍で「テスト」について読む
     -  正しい品質のシステムを提供するために重要
          -  テストの流れ（小さい範囲から大きい範囲へと移行）
          -  単体テスト
               -  各モジュールごとにテストを行う
               -  ブラックボックステスト
                    -  入力に対して適切な出力が仕様通りに得られるか
               -  ホワイトボックステスト
                    -  モジュールの内部構造が正しく作られているか
          -  結合テスト
               -  複数のモジュールを繋ぎ合わせて検証する
               -  モジュール間のインターフェイスが正常に機能しているかを確認
               -  トップダウンテスト
                    -  上位モジュールからテスト
               -  ボトムアップテスト
                    -  下位モジュールからテスト
          -  システムテスト
               -  システム全体のテスト
          -  リグレッションテスト（退行テスト）
               -  修正内容が他の範囲に悪影響を与えていないかの確認
### メモ
-  今日は業務上の不明点の謎が解けて一安心

***

## 2024/10/11
- オリジナルアプリ制作
     -  画像の投稿の検証
     -  レビューをもらう
          -  現状CDNを入れたことでダウンロード画像が誰でも見れてしまう（S3.getSignedURL()の処理が無駄になっている）
     -  要件を満たす設計方法を考える
          -  考えた実装がいろんなケース（要件）に当てはまるのかを考える
          -  どのタイミングで署名付きURLをとってくるのか
               -  投稿が複数ある場合（投稿リスト）毎回リクエストが発生する
               -  「N+1」
                    -  今回の場合、1投稿に1リクエスト・複数だとその分処理が増える
                    -  数が増えればその分パフォーマンスが劣化する
     -  以下の方法で改修
          -  アップロードする時に署名付きURLを取得
          -  ↑をDBに保存
          -  ダウンロード時に↑を使用
          -  期限が切れていたら取得し直す
     -  署名付きURLで画像を表示することの目的の再確認
          -  一定時間だけ有効な一時的なアクセス権を持つURLを生成する
          -  他のユーザーが直接S3の画像にアクセスすることを防ぐ
          -  だれが・いつまでに・どのリソースにアクセスできるか設定できる
          -  CDNと一緒に使うことでCDN側のキャッシュをコントロールできる
               -  古い画像がキャッシュされ続けたり
               -  新しい画像の表示を早くする
- 「JavaScript データ・アルゴリズム課題」の復習
     -  004_algorithm/001_recursion.js　完了
          -  シンプルな再帰関数はなんとか達成
### メモ
-  CDNを入れる時に署名付きURLなしでいいのか悩んだけどやっぱり必要だった・・
-  署名付きURLで画像を表示することの目的を見失っていた

## 2024/10/12
- オリジナルアプリ制作
     -  画像の投稿の検証
     -  改修方法について調べる
          -  投稿データを送信時にダウンロード用署名付きURLを生成
          -  画像ファイルをS3ファイルにアップロード用署名付きURLを生成し、アップ
               - 投稿内容とダウンロードURLと期限もDBに保存
          -  ダウンロード時に有効期限が切れていたら再作成
               -  再取得したURLと期限もDBに保存し直す必要がある？
          -  DBにあるデータを↑新しい署名付きURLと期限のデータに書き換えるか
               -  （1）DBは書き換えず都度新しいURLを生成
                    -  DBに余分な書き込みが発生せずシンプルで負荷が低い
                    -  都度新しいURLが生成されるので安全性が高い
               -  （2）DBに新しいURLと有効期限を書き直す
                    -  DBに常に最新のURLが保存されているためクライアントがURLを保持しなくていい
                    -  期限が切れるたびにDBを書き直すため、負荷が高い
          -  （1）の方法がシンプルで負荷が少なくて良さそう
- プリンシプルオブプログラミングのアーキテクチャ非機能要件⑤「テスト容易性」を読む
     -  テストを「効果的」かつ「効率的」に行うこと
          -  テストのコストや労力が少なく安く早く品質を検証できる
          -  テストの品質　＝　本体の品質
     -  どうするのか
          -  アーキテクチャ策定の時点で、検証方法の観点も含めて設計する
          -  モジュール間の依存関係を排除する
          -  小さい単位でテストが可能となる設計にする
### メモ
-  「プリンシプルオブプログラミング」と「基本情報技術者」の書籍を読んでいると、なぜかちょうど同じ内容が重なっている。

## 2024/10/13
- オリジナルアプリ制作
     -  画像の投稿の検証
     -  改修し直しの作業
          -  新しく追加した署名付きURLのカラムが「ER_DATA_TOO_LONG」エラーに
               -  保存しようとしているデータがカラムのサイズを超えているらしい
               -  STRINGではなくTEXTにする対応で解消
               -  データベースのカラムサイズを増やす方法もあるらしい
### メモ
-  集中できる時間を見つけて作業しよう

## 2024/10/15
- オリジナルアプリ制作
     -  画像の投稿の検証
     -  改修し直しの作業
          -  署名付きURLで表示はできているけど有効期限が切れると表示されない問題
- プリンシプルオブプログラミングのアーキテクチャ非機能要件⑥「再利用性」を読む
     -  別のソフトウェアに再利用する能力のこと
     -  ①再利用するソフトウェア開発
          -  既存のモジュール・ライブラリなど再利用可能な成果物を、そのままあるいは変形して統合する
          -  ソフトウェア・コンポジション
               -  ソフトウェアを既存モジュールから組み立てること
     -  　②再利用のためのソフトウェア開発
          -  他のソフトウェアで再利用されるための開発
          -  開発中のソフトウェアから「自己充足的」な部分を取り出せるアーキテクチャにする
          -  変更を加えることなく、他のシステムで再利用できる
          -  ↑この部分を独立してビルドできるようなモジュール・パッケージにしておく
     -  　再利用の「3の法則」
          -  難易度3倍の法則
               -  再利用可能なモジュールは、単一のソフトウェアで使うモジュールを開発する場合より3倍難しい
                    -  プログラミングやテストで「一般化した問題をどう処理するか」を考える必要がある
          -  テスト3種類の法則
               -  再利用可能なモジュールは、共有かする前に3つの異なるソフトウェアでテストする必要がある
                    -  一般的な問題は、実際に使われてみるまでわからない
### メモ
-  昨日は謎の発熱・関節痛で画面を見る気になれず
-  業務ではvueでハマりまくり、emitの仕組みを知った

## 2024/10/17
- オリジナルアプリ制作
     -  画像の投稿の検証
     -  改修し直しの作業
          -  署名付きURLで表示はできているけど有効期限が切れると表示されない問題
- vueのチュートリアルのおさらいをする
     -  業務の空き時間に
          -  ハマった後に確認すると理解が深まる
### メモ
-  昨日は再び発熱で早退
-  今日はまだマシになってきた

## 2024/10/18
- オリジナルアプリ制作
     -  画像の投稿の検証
     -  改修し直しの作業
          -  署名付きURLで表示はできているけど有効期限が切れると表示されない問題
               -  S3バケットポリシーの修正
          -  有効期限の登録の際にDBに保存されている時刻が現在時刻と違っている
               -  9時間ぐらいずれている
               -  サーバーのシステムタイムゾーンを確認するとやっぱりずれている
               -  mysqlコマンドで日本のタイムゾーン（JST）へ変更し、無事同時刻になる
                    -  と思ったらTablePlusのデータはやっぱりずれている
                    -  UTCからJSTに変換するクエリを試してみる
                    -  一旦有効期限はUTC時間で統一することにする
### メモ
-  体調回復
-  窓から金木犀の香りがして癒される
-  画像の投稿の検証は設計の見直しが必要・・・

## 2024/10/19
- オリジナルアプリ制作
     -  画像の投稿の検証
     -  改修し直しの作業
          -  一旦以下の実装で対応
               -  投稿時にダウンロード用署名付きURLと有効期限をDBに保存
               -  署名付きURLでS3に画像アップ
               -  画像の表示（ダウンロード）時に有効期限が切れていたら署名付きURLを再生成
          -  署名付きURLをCloudFlareで挟めるのかどうかもっと調べる
               -  CloudFrontに関する情報だと出てくる
               -  「Cloudflare Workers」で署名付きURLが生成できるらしい
                    -  ユーザーデータにアクセスを許可する認証レイヤーを提供
- onerror
     - 画像のリンクが切れていたり、サーバーの都合によってエラーが発生した場合にイベントを取得する
          - image,windowで使用可能
- プリンシプルオブプログラミングの「7つの設計原理」を読む
     -  コードレビュー時にチェック観点として使用する
     -  障害を作り込まないために考慮すべき、コード構造上の7つの核心観点
     -  コードレビューには一定の価値観や観点が必要
          -  単純原理・同型原理・対称原理・階層原理・線形原理・明証原理・安全原理
- DOMと技術関する用語についての動画を見る
     -  [DOM操作がわかる。クラスと一緒に理解するDOMの話。](https://www.youtube.com/watch?v=sveNLOD8wUM)
     -  [#1(~20個まで) 技術力UPのために知りたい用語100](https://www.youtube.com/watch?v=QWJM2uVP7AU)
- GoFのデザインパターン
     - 「こう設計しておくと、後々便利」という経験則を言語化してまとめたもの
          - 生成・構造・振る舞いの3パターンに分類
### メモ
-  今日は作業時間を多く取れた

## 2024/10/20
- オリジナルアプリ制作
     -  画像の投稿の検証
     -  改修し直しの作業
          -  署名付きURLをCloudFlareで挟めるのかどうかもっと調べる
          -  「Cloudflare Workers」について調べる
               -  JavaScriptを使用してサーバレスアプリケーションを構築しグローバルにデプロイする
               -  サーバレスコンピューティングプロバイダー
                    -  プロバイダー（Cloudflareのような）がユーザーに代わってサーバーを管理するクラウドコンピューティングモデルのこと
               -  クラウドコンピューティング
                    -  コンピューティングリソース（仮想マシン・ストレージ・DB・ネットワークサービス）を、サードパーティのサーバー上でホストすること（AWS・Azure・GCP・Cloudflare）
- プリンシプルオブプログラミングの「7つの設計原理①単純原理」を読む
     -  プログラミング初心者でも読める一貫して単純なコードを書く
     -  ソフトウェアの障害は複雑なところに集中して発現する
     -  経験を積んだプログラマも高級なテクニックは使わず単純で小さくシンプルで見通しのよいコードを心がける
- 「JavaScript データ・アルゴリズム課題」の復習
     -  004_algorithm/001_recursion.js　途中まで
          -  フィボナッチの復習
### メモ
-  今日はミニバスの見学に参加
